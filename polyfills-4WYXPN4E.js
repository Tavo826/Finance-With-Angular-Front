var Rt=":";function Dt(s,e){for(let n=1,t=1;n<s.length;n++,t++)if(e[t]==="\\")t++;else if(s[n]===Rt)return n;throw new Error(`Unterminated $localize metadata block in "${e}".`)}var Fe=function(s,...e){if(Fe.translate){let t=Fe.translate(s,e);s=t[0],e=t[1]}let n=at(s[0],s.raw[0]);for(let t=1;t<s.length;t++)n+=e[t-1]+at(s[t],s.raw[t]);return n},Ot=":";function at(s,e){return e.charAt(0)===Ot?s.substring(Dt(s,e)+1):s}globalThis.$localize=Fe;var ue=globalThis;function ne(s){return(ue.__Zone_symbol_prefix||"__zone_symbol__")+s}function Ft(){let s=ue.performance;function e(U){s&&s.mark&&s.mark(U)}function n(U,C){s&&s.measure&&s.measure(U,C)}e("Zone");let t=(()=>{class U{static{this.__symbol__=ne}static assertZonePatched(){if(ue.Promise!==N.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let o=U.current;for(;o.parent;)o=o.parent;return o}static get current(){return M.zone}static get currentTask(){return H}static __load_patch(o,c,O=!1){if(N.hasOwnProperty(o)){let j=ue[ne("forceDuplicateZoneCheck")]===!0;if(!O&&j)throw Error("Already loaded patch: "+o)}else if(!ue["__Zone_disable_"+o]){let j="Zone:"+o;e(j),N[o]=c(ue,U,x),n(j,j)}}get parent(){return this._parent}get name(){return this._name}constructor(o,c){this._parent=o,this._name=c?c.name||"unnamed":"<root>",this._properties=c&&c.properties||{},this._zoneDelegate=new a(this,this._parent&&this._parent._zoneDelegate,c)}get(o){let c=this.getZoneWith(o);if(c)return c._properties[o]}getZoneWith(o){let c=this;for(;c;){if(c._properties.hasOwnProperty(o))return c;c=c._parent}return null}fork(o){if(!o)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,o)}wrap(o,c){if(typeof o!="function")throw new Error("Expecting function got: "+o);let O=this._zoneDelegate.intercept(this,o,c),j=this;return function(){return j.runGuarded(O,this,arguments,c)}}run(o,c,O,j){M={parent:M,zone:this};try{return this._zoneDelegate.invoke(this,o,c,O,j)}finally{M=M.parent}}runGuarded(o,c=null,O,j){M={parent:M,zone:this};try{try{return this._zoneDelegate.invoke(this,o,c,O,j)}catch(K){if(this._zoneDelegate.handleError(this,K))throw K}}finally{M=M.parent}}runTask(o,c,O){if(o.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(o.zone||R).name+"; Execution: "+this.name+")");let j=o,{type:K,data:{isPeriodic:B=!1,isRefreshable:ye=!1}={}}=o;if(o.state===y&&(K===W||K===P))return;let he=o.state!=T;he&&j._transitionTo(T,i);let fe=H;H=j,M={parent:M,zone:this};try{K==P&&o.data&&!B&&!ye&&(o.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,j,c,O)}catch(se){if(this._zoneDelegate.handleError(this,se))throw se}}finally{let se=o.state;if(se!==y&&se!==p)if(K==W||B||ye&&se===l)he&&j._transitionTo(i,T,l);else{let b=j._zoneDelegates;this._updateTaskCount(j,-1),he&&j._transitionTo(y,T,y),ye&&(j._zoneDelegates=b)}M=M.parent,H=fe}}scheduleTask(o){if(o.zone&&o.zone!==this){let O=this;for(;O;){if(O===o.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${o.zone.name}`);O=O.parent}}o._transitionTo(l,y);let c=[];o._zoneDelegates=c,o._zone=this;try{o=this._zoneDelegate.scheduleTask(this,o)}catch(O){throw o._transitionTo(p,l,y),this._zoneDelegate.handleError(this,O),O}return o._zoneDelegates===c&&this._updateTaskCount(o,1),o.state==l&&o._transitionTo(i,l),o}scheduleMicroTask(o,c,O,j){return this.scheduleTask(new h(A,o,c,O,j,void 0))}scheduleMacroTask(o,c,O,j,K){return this.scheduleTask(new h(P,o,c,O,j,K))}scheduleEventTask(o,c,O,j,K){return this.scheduleTask(new h(W,o,c,O,j,K))}cancelTask(o){if(o.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(o.zone||R).name+"; Execution: "+this.name+")");if(!(o.state!==i&&o.state!==T)){o._transitionTo(_,i,T);try{this._zoneDelegate.cancelTask(this,o)}catch(c){throw o._transitionTo(p,_),this._zoneDelegate.handleError(this,c),c}return this._updateTaskCount(o,-1),o._transitionTo(y,_),o.runCount=-1,o}}_updateTaskCount(o,c){let O=o._zoneDelegates;c==-1&&(o._zoneDelegates=null);for(let j=0;j<O.length;j++)O[j]._updateTaskCount(o.type,c)}}return U})(),r={name:"",onHasTask:(U,C,o,c)=>U.hasTask(o,c),onScheduleTask:(U,C,o,c)=>U.scheduleTask(o,c),onInvokeTask:(U,C,o,c,O,j)=>U.invokeTask(o,c,O,j),onCancelTask:(U,C,o,c)=>U.cancelTask(o,c)};class a{get zone(){return this._zone}constructor(C,o,c){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=C,this._parentDelegate=o,this._forkZS=c&&(c&&c.onFork?c:o._forkZS),this._forkDlgt=c&&(c.onFork?o:o._forkDlgt),this._forkCurrZone=c&&(c.onFork?this._zone:o._forkCurrZone),this._interceptZS=c&&(c.onIntercept?c:o._interceptZS),this._interceptDlgt=c&&(c.onIntercept?o:o._interceptDlgt),this._interceptCurrZone=c&&(c.onIntercept?this._zone:o._interceptCurrZone),this._invokeZS=c&&(c.onInvoke?c:o._invokeZS),this._invokeDlgt=c&&(c.onInvoke?o:o._invokeDlgt),this._invokeCurrZone=c&&(c.onInvoke?this._zone:o._invokeCurrZone),this._handleErrorZS=c&&(c.onHandleError?c:o._handleErrorZS),this._handleErrorDlgt=c&&(c.onHandleError?o:o._handleErrorDlgt),this._handleErrorCurrZone=c&&(c.onHandleError?this._zone:o._handleErrorCurrZone),this._scheduleTaskZS=c&&(c.onScheduleTask?c:o._scheduleTaskZS),this._scheduleTaskDlgt=c&&(c.onScheduleTask?o:o._scheduleTaskDlgt),this._scheduleTaskCurrZone=c&&(c.onScheduleTask?this._zone:o._scheduleTaskCurrZone),this._invokeTaskZS=c&&(c.onInvokeTask?c:o._invokeTaskZS),this._invokeTaskDlgt=c&&(c.onInvokeTask?o:o._invokeTaskDlgt),this._invokeTaskCurrZone=c&&(c.onInvokeTask?this._zone:o._invokeTaskCurrZone),this._cancelTaskZS=c&&(c.onCancelTask?c:o._cancelTaskZS),this._cancelTaskDlgt=c&&(c.onCancelTask?o:o._cancelTaskDlgt),this._cancelTaskCurrZone=c&&(c.onCancelTask?this._zone:o._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let O=c&&c.onHasTask,j=o&&o._hasTaskZS;(O||j)&&(this._hasTaskZS=O?c:r,this._hasTaskDlgt=o,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,c.onScheduleTask||(this._scheduleTaskZS=r,this._scheduleTaskDlgt=o,this._scheduleTaskCurrZone=this._zone),c.onInvokeTask||(this._invokeTaskZS=r,this._invokeTaskDlgt=o,this._invokeTaskCurrZone=this._zone),c.onCancelTask||(this._cancelTaskZS=r,this._cancelTaskDlgt=o,this._cancelTaskCurrZone=this._zone))}fork(C,o){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,C,o):new t(C,o)}intercept(C,o,c){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,C,o,c):o}invoke(C,o,c,O,j){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,C,o,c,O,j):o.apply(c,O)}handleError(C,o){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,C,o):!0}scheduleTask(C,o){let c=o;if(this._scheduleTaskZS)this._hasTaskZS&&c._zoneDelegates.push(this._hasTaskDlgtOwner),c=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,C,o),c||(c=o);else if(o.scheduleFn)o.scheduleFn(o);else if(o.type==A)v(o);else throw new Error("Task is missing scheduleFn.");return c}invokeTask(C,o,c,O){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,C,o,c,O):o.callback.apply(c,O)}cancelTask(C,o){let c;if(this._cancelTaskZS)c=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,C,o);else{if(!o.cancelFn)throw Error("Task is not cancelable");c=o.cancelFn(o)}return c}hasTask(C,o){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,C,o)}catch(c){this.handleError(C,c)}}_updateTaskCount(C,o){let c=this._taskCounts,O=c[C],j=c[C]=O+o;if(j<0)throw new Error("More tasks executed then were scheduled.");if(O==0||j==0){let K={microTask:c.microTask>0,macroTask:c.macroTask>0,eventTask:c.eventTask>0,change:C};this.hasTask(this._zone,K)}}}class h{constructor(C,o,c,O,j,K){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=C,this.source=o,this.data=O,this.scheduleFn=j,this.cancelFn=K,!c)throw new Error("callback is not defined");this.callback=c;let B=this;C===W&&O&&O.useG?this.invoke=h.invokeTask:this.invoke=function(){return h.invokeTask.call(ue,B,this,arguments)}}static invokeTask(C,o,c){C||(C=this),te++;try{return C.runCount++,C.zone.runTask(C,o,c)}finally{te==1&&E(),te--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(y,l)}_transitionTo(C,o,c){if(this._state===o||this._state===c)this._state=C,C==y&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${C}', expecting state '${o}'${c?" or '"+c+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let d=ne("setTimeout"),f=ne("Promise"),S=ne("then"),m=[],I=!1,w;function Z(U){if(w||ue[f]&&(w=ue[f].resolve(0)),w){let C=w[S];C||(C=w.then),C.call(w,U)}else ue[d](U,0)}function v(U){te===0&&m.length===0&&Z(E),U&&m.push(U)}function E(){if(!I){for(I=!0;m.length;){let U=m;m=[];for(let C=0;C<U.length;C++){let o=U[C];try{o.zone.runTask(o,null,null)}catch(c){x.onUnhandledError(c)}}}x.microtaskDrainDone(),I=!1}}let R={name:"NO ZONE"},y="notScheduled",l="scheduling",i="scheduled",T="running",_="canceling",p="unknown",A="microTask",P="macroTask",W="eventTask",N={},x={symbol:ne,currentZoneFrame:()=>M,onUnhandledError:J,microtaskDrainDone:J,scheduleMicroTask:v,showUncaughtError:()=>!t[ne("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:J,patchMethod:()=>J,bindArguments:()=>[],patchThen:()=>J,patchMacroTask:()=>J,patchEventPrototype:()=>J,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>J,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>J,wrapWithCurrentZone:()=>J,filterProperties:()=>[],attachOriginToPatched:()=>J,_redefineProperty:()=>J,patchCallbacks:()=>J,nativeScheduleMicroTask:Z},M={parent:null,zone:new t(null,null)},H=null,te=0;function J(){}return n("Zone","Zone"),t}function Mt(){let s=globalThis,e=s[ne("forceDuplicateZoneCheck")]===!0;if(s.Zone&&(e||typeof s.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return s.Zone??=Ft(),s.Zone}var Ce=Object.getOwnPropertyDescriptor,Be=Object.defineProperty,We=Object.getPrototypeOf,Zt=Object.create,jt=Array.prototype.slice,Ve="addEventListener",Qe="removeEventListener",Ue=ne(Ve),qe=ne(Qe),de="true",Te="false",Re=ne("");function $e(s,e){return Zone.current.wrap(s,e)}function Xe(s,e,n,t,r){return Zone.current.scheduleMacroTask(s,e,n,t,r)}var V=ne,je=typeof window<"u",ve=je?window:void 0,Y=je&&ve||globalThis,Nt="removeAttribute";function Je(s,e){for(let n=s.length-1;n>=0;n--)typeof s[n]=="function"&&(s[n]=$e(s[n],e+"_"+n));return s}function xt(s,e){let n=s.constructor.name;for(let t=0;t<e.length;t++){let r=e[t],a=s[r];if(a){let h=Ce(s,r);if(!pt(h))continue;s[r]=(d=>{let f=function(){return d.apply(this,Je(arguments,n+"."+r))};return _e(f,d),f})(a)}}}function pt(s){return s?s.writable===!1?!1:!(typeof s.get=="function"&&typeof s.set>"u"):!0}var _t=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ne=!("nw"in Y)&&typeof Y.process<"u"&&Y.process.toString()==="[object process]",Ke=!Ne&&!_t&&!!(je&&ve.HTMLElement),mt=typeof Y.process<"u"&&Y.process.toString()==="[object process]"&&!_t&&!!(je&&ve.HTMLElement),Ze={},Lt=V("enable_beforeunload"),ut=function(s){if(s=s||Y.event,!s)return;let e=Ze[s.type];e||(e=Ze[s.type]=V("ON_PROPERTY"+s.type));let n=this||s.target||Y,t=n[e],r;if(Ke&&n===ve&&s.type==="error"){let a=s;r=t&&t.call(this,a.message,a.filename,a.lineno,a.colno,a.error),r===!0&&s.preventDefault()}else r=t&&t.apply(this,arguments),s.type==="beforeunload"&&Y[Lt]&&typeof r=="string"?s.returnValue=r:r!=null&&!r&&s.preventDefault();return r};function lt(s,e,n){let t=Ce(s,e);if(!t&&n&&Ce(n,e)&&(t={enumerable:!0,configurable:!0}),!t||!t.configurable)return;let r=V("on"+e+"patched");if(s.hasOwnProperty(r)&&s[r])return;delete t.writable,delete t.value;let a=t.get,h=t.set,d=e.slice(2),f=Ze[d];f||(f=Ze[d]=V("ON_PROPERTY"+d)),t.set=function(S){let m=this;if(!m&&s===Y&&(m=Y),!m)return;typeof m[f]=="function"&&m.removeEventListener(d,ut),h&&h.call(m,null),m[f]=S,typeof S=="function"&&m.addEventListener(d,ut,!1)},t.get=function(){let S=this;if(!S&&s===Y&&(S=Y),!S)return null;let m=S[f];if(m)return m;if(a){let I=a.call(this);if(I)return t.set.call(this,I),typeof S[Nt]=="function"&&S.removeAttribute(e),I}return null},Be(s,e,t),s[r]=!0}function yt(s,e,n){if(e)for(let t=0;t<e.length;t++)lt(s,"on"+e[t],n);else{let t=[];for(let r in s)r.slice(0,2)=="on"&&t.push(r);for(let r=0;r<t.length;r++)lt(s,t[r],n)}}var oe=V("originalInstance");function Ae(s){let e=Y[s];if(!e)return;Y[V(s)]=e,Y[s]=function(){let r=Je(arguments,s);switch(r.length){case 0:this[oe]=new e;break;case 1:this[oe]=new e(r[0]);break;case 2:this[oe]=new e(r[0],r[1]);break;case 3:this[oe]=new e(r[0],r[1],r[2]);break;case 4:this[oe]=new e(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},_e(Y[s],e);let n=new e(function(){}),t;for(t in n)s==="XMLHttpRequest"&&t==="responseBlob"||function(r){typeof n[r]=="function"?Y[s].prototype[r]=function(){return this[oe][r].apply(this[oe],arguments)}:Be(Y[s].prototype,r,{set:function(a){typeof a=="function"?(this[oe][r]=$e(a,s+"."+r),_e(this[oe][r],a)):this[oe][r]=a},get:function(){return this[oe][r]}})}(t);for(t in e)t!=="prototype"&&e.hasOwnProperty(t)&&(Y[s][t]=e[t])}function pe(s,e,n){let t=s;for(;t&&!t.hasOwnProperty(e);)t=We(t);!t&&s[e]&&(t=s);let r=V(e),a=null;if(t&&(!(a=t[r])||!t.hasOwnProperty(r))){a=t[r]=t[e];let h=t&&Ce(t,e);if(pt(h)){let d=n(a,r,e);t[e]=function(){return d(this,arguments)},_e(t[e],a)}}return a}function Ht(s,e,n){let t=null;function r(a){let h=a.data;return h.args[h.cbIdx]=function(){a.invoke.apply(this,arguments)},t.apply(h.target,h.args),a}t=pe(s,e,a=>function(h,d){let f=n(h,d);return f.cbIdx>=0&&typeof d[f.cbIdx]=="function"?Xe(f.name,d[f.cbIdx],f,r):a.apply(h,d)})}function _e(s,e){s[V("OriginalDelegate")]=e}var ht=!1,ze=!1;function Ut(){try{let s=ve.navigator.userAgent;if(s.indexOf("MSIE ")!==-1||s.indexOf("Trident/")!==-1)return!0}catch{}return!1}function qt(){if(ht)return ze;ht=!0;try{let s=ve.navigator.userAgent;(s.indexOf("MSIE ")!==-1||s.indexOf("Trident/")!==-1||s.indexOf("Edge/")!==-1)&&(ze=!0)}catch{}return ze}function ft(s){return typeof s=="function"}function dt(s){return typeof s=="number"}var Pe=!1;if(typeof window<"u")try{let s=Object.defineProperty({},"passive",{get:function(){Pe=!0}});window.addEventListener("test",s,s),window.removeEventListener("test",s,s)}catch{Pe=!1}var zt={useG:!0},re={},gt={},kt=new RegExp("^"+Re+"(\\w+)(true|false)$"),Et=V("propagationStopped");function bt(s,e){let n=(e?e(s):s)+Te,t=(e?e(s):s)+de,r=Re+n,a=Re+t;re[s]={},re[s][Te]=r,re[s][de]=a}function Gt(s,e,n,t){let r=t&&t.add||Ve,a=t&&t.rm||Qe,h=t&&t.listeners||"eventListeners",d=t&&t.rmAll||"removeAllListeners",f=V(r),S="."+r+":",m="prependListener",I="."+m+":",w=function(l,i,T){if(l.isRemoved)return;let _=l.callback;typeof _=="object"&&_.handleEvent&&(l.callback=P=>_.handleEvent(P),l.originalDelegate=_);let p;try{l.invoke(l,i,[T])}catch(P){p=P}let A=l.options;if(A&&typeof A=="object"&&A.once){let P=l.originalDelegate?l.originalDelegate:l.callback;i[a].call(i,T.type,P,A)}return p};function Z(l,i,T){if(i=i||s.event,!i)return;let _=l||i.target||s,p=_[re[i.type][T?de:Te]];if(p){let A=[];if(p.length===1){let P=w(p[0],_,i);P&&A.push(P)}else{let P=p.slice();for(let W=0;W<P.length&&!(i&&i[Et]===!0);W++){let N=w(P[W],_,i);N&&A.push(N)}}if(A.length===1)throw A[0];for(let P=0;P<A.length;P++){let W=A[P];e.nativeScheduleMicroTask(()=>{throw W})}}}let v=function(l){return Z(this,l,!1)},E=function(l){return Z(this,l,!0)};function R(l,i){if(!l)return!1;let T=!0;i&&i.useG!==void 0&&(T=i.useG);let _=i&&i.vh,p=!0;i&&i.chkDup!==void 0&&(p=i.chkDup);let A=!1;i&&i.rt!==void 0&&(A=i.rt);let P=l;for(;P&&!P.hasOwnProperty(r);)P=We(P);if(!P&&l[r]&&(P=l),!P||P[f])return!1;let W=i&&i.eventNameToString,N={},x=P[f]=P[r],M=P[V(a)]=P[a],H=P[V(h)]=P[h],te=P[V(d)]=P[d],J;i&&i.prepend&&(J=P[V(i.prepend)]=P[i.prepend]);function U(u,k){return!Pe&&typeof u=="object"&&u?!!u.capture:!Pe||!k?u:typeof u=="boolean"?{capture:u,passive:!0}:u?typeof u=="object"&&u.passive!==!1?{...u,passive:!0}:u:{passive:!0}}let C=function(u){if(!N.isExisting)return x.call(N.target,N.eventName,N.capture?E:v,N.options)},o=function(u){if(!u.isRemoved){let k=re[u.eventName],F;k&&(F=k[u.capture?de:Te]);let L=F&&u.target[F];if(L){for(let D=0;D<L.length;D++)if(L[D]===u){L.splice(D,1),u.isRemoved=!0,u.removeAbortListener&&(u.removeAbortListener(),u.removeAbortListener=null),L.length===0&&(u.allRemoved=!0,u.target[F]=null);break}}}if(u.allRemoved)return M.call(u.target,u.eventName,u.capture?E:v,u.options)},c=function(u){return x.call(N.target,N.eventName,u.invoke,N.options)},O=function(u){return J.call(N.target,N.eventName,u.invoke,N.options)},j=function(u){return M.call(u.target,u.eventName,u.invoke,u.options)},K=T?C:c,B=T?o:j,ye=function(u,k){let F=typeof k;return F==="function"&&u.callback===k||F==="object"&&u.originalDelegate===k},he=i&&i.diff?i.diff:ye,fe=Zone[V("UNPATCHED_EVENTS")],se=s[V("PASSIVE_EVENTS")];function b(u){if(typeof u=="object"&&u!==null){let k={...u};return u.signal&&(k.signal=u.signal),k}return u}let g=function(u,k,F,L,D=!1,q=!1){return function(){let z=this||s,G=arguments[0];i&&i.transferEventName&&(G=i.transferEventName(G));let Q=arguments[1];if(!Q)return u.apply(this,arguments);if(Ne&&G==="uncaughtException")return u.apply(this,arguments);let $=!1;if(typeof Q!="function"){if(!Q.handleEvent)return u.apply(this,arguments);$=!0}if(_&&!_(u,Q,z,arguments))return;let ge=Pe&&!!se&&se.indexOf(G)!==-1,ce=b(U(arguments[2],ge)),Ee=ce?.signal;if(Ee?.aborted)return;if(fe){for(let ae=0;ae<fe.length;ae++)if(G===fe[ae])return ge?u.call(z,G,Q,ce):u.apply(this,arguments)}let Le=ce?typeof ce=="boolean"?!0:ce.capture:!1,rt=ce&&typeof ce=="object"?ce.once:!1,Ct=Zone.current,He=re[G];He||(bt(G,W),He=re[G]);let st=He[Le?de:Te],be=z[st],it=!1;if(be){if(it=!0,p){for(let ae=0;ae<be.length;ae++)if(he(be[ae],Q))return}}else be=z[st]=[];let Oe,ot=z.constructor.name,ct=gt[ot];ct&&(Oe=ct[G]),Oe||(Oe=ot+k+(W?W(G):G)),N.options=ce,rt&&(N.options.once=!1),N.target=z,N.capture=Le,N.eventName=G,N.isExisting=it;let we=T?zt:void 0;we&&(we.taskData=N),Ee&&(N.options.signal=void 0);let ie=Ct.scheduleEventTask(Oe,Q,we,F,L);if(Ee){N.options.signal=Ee;let ae=()=>ie.zone.cancelTask(ie);u.call(Ee,"abort",ae,{once:!0}),ie.removeAbortListener=()=>Ee.removeEventListener("abort",ae)}if(N.target=null,we&&(we.taskData=null),rt&&(N.options.once=!0),!Pe&&typeof ie.options=="boolean"||(ie.options=ce),ie.target=z,ie.capture=Le,ie.eventName=G,$&&(ie.originalDelegate=Q),q?be.unshift(ie):be.push(ie),D)return z}};return P[r]=g(x,S,K,B,A),J&&(P[m]=g(J,I,O,B,A,!0)),P[a]=function(){let u=this||s,k=arguments[0];i&&i.transferEventName&&(k=i.transferEventName(k));let F=arguments[2],L=F?typeof F=="boolean"?!0:F.capture:!1,D=arguments[1];if(!D)return M.apply(this,arguments);if(_&&!_(M,D,u,arguments))return;let q=re[k],z;q&&(z=q[L?de:Te]);let G=z&&u[z];if(G)for(let Q=0;Q<G.length;Q++){let $=G[Q];if(he($,D)){if(G.splice(Q,1),$.isRemoved=!0,G.length===0&&($.allRemoved=!0,u[z]=null,!L&&typeof k=="string")){let ge=Re+"ON_PROPERTY"+k;u[ge]=null}return $.zone.cancelTask($),A?u:void 0}}return M.apply(this,arguments)},P[h]=function(){let u=this||s,k=arguments[0];i&&i.transferEventName&&(k=i.transferEventName(k));let F=[],L=St(u,W?W(k):k);for(let D=0;D<L.length;D++){let q=L[D],z=q.originalDelegate?q.originalDelegate:q.callback;F.push(z)}return F},P[d]=function(){let u=this||s,k=arguments[0];if(k){i&&i.transferEventName&&(k=i.transferEventName(k));let F=re[k];if(F){let L=F[Te],D=F[de],q=u[L],z=u[D];if(q){let G=q.slice();for(let Q=0;Q<G.length;Q++){let $=G[Q],ge=$.originalDelegate?$.originalDelegate:$.callback;this[a].call(this,k,ge,$.options)}}if(z){let G=z.slice();for(let Q=0;Q<G.length;Q++){let $=G[Q],ge=$.originalDelegate?$.originalDelegate:$.callback;this[a].call(this,k,ge,$.options)}}}}else{let F=Object.keys(u);for(let L=0;L<F.length;L++){let D=F[L],q=kt.exec(D),z=q&&q[1];z&&z!=="removeListener"&&this[d].call(this,z)}this[d].call(this,"removeListener")}if(A)return this},_e(P[r],x),_e(P[a],M),te&&_e(P[d],te),H&&_e(P[h],H),!0}let y=[];for(let l=0;l<n.length;l++)y[l]=R(n[l],t);return y}function St(s,e){if(!e){let a=[];for(let h in s){let d=kt.exec(h),f=d&&d[1];if(f&&(!e||f===e)){let S=s[h];if(S)for(let m=0;m<S.length;m++)a.push(S[m])}}return a}let n=re[e];n||(bt(e),n=re[e]);let t=s[n[Te]],r=s[n[de]];return t?r?t.concat(r):t.slice():r?r.slice():[]}function Bt(s,e){let n=s.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",t=>function(r,a){r[Et]=!0,t&&t.apply(r,a)})}function Wt(s,e){e.patchMethod(s,"queueMicrotask",n=>function(t,r){Zone.current.scheduleMicroTask("queueMicrotask",r[0])})}var Me=V("zoneTask");function Se(s,e,n,t){let r=null,a=null;e+=t,n+=t;let h={};function d(S){let m=S.data;m.args[0]=function(){return S.invoke.apply(this,arguments)};let I=r.apply(s,m.args);return dt(I)?m.handleId=I:(m.handle=I,m.isRefreshable=ft(I.refresh)),S}function f(S){let{handle:m,handleId:I}=S.data;return a.call(s,m??I)}r=pe(s,e,S=>function(m,I){if(ft(I[0])){let w={isRefreshable:!1,isPeriodic:t==="Interval",delay:t==="Timeout"||t==="Interval"?I[1]||0:void 0,args:I},Z=I[0];I[0]=function(){try{return Z.apply(this,arguments)}finally{let{handle:T,handleId:_,isPeriodic:p,isRefreshable:A}=w;!p&&!A&&(_?delete h[_]:T&&(T[Me]=null))}};let v=Xe(e,I[0],w,d,f);if(!v)return v;let{handleId:E,handle:R,isRefreshable:y,isPeriodic:l}=v.data;if(E)h[E]=v;else if(R&&(R[Me]=v,y&&!l)){let i=R.refresh;R.refresh=function(){let{zone:T,state:_}=v;return _==="notScheduled"?(v._state="scheduled",T._updateTaskCount(v,1)):_==="running"&&(v._state="scheduling"),i.call(this)}}return R??E??v}else return S.apply(s,I)}),a=pe(s,n,S=>function(m,I){let w=I[0],Z;dt(w)?(Z=h[w],delete h[w]):(Z=w?.[Me],Z?w[Me]=null:Z=w),Z?.type?Z.cancelFn&&Z.zone.cancelTask(Z):S.apply(s,I)})}function Vt(s,e){let{isBrowser:n,isMix:t}=e.getGlobalObjects();if(!n&&!t||!s.customElements||!("customElements"in s))return;let r=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,s.customElements,"customElements","define",r)}function Qt(s,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:t,TRUE_STR:r,FALSE_STR:a,ZONE_SYMBOL_PREFIX:h}=e.getGlobalObjects();for(let f=0;f<n.length;f++){let S=n[f],m=S+a,I=S+r,w=h+m,Z=h+I;t[S]={},t[S][a]=w,t[S][r]=Z}let d=s.EventTarget;if(!(!d||!d.prototype))return e.patchEventTarget(s,e,[d&&d.prototype]),!0}function $t(s,e){e.patchEventPrototype(s,e)}function Pt(s,e,n){if(!n||n.length===0)return e;let t=n.filter(a=>a.target===s);if(!t||t.length===0)return e;let r=t[0].ignoreProperties;return e.filter(a=>r.indexOf(a)===-1)}function Tt(s,e,n,t){if(!s)return;let r=Pt(s,e,n);yt(s,r,t)}function Ge(s){return Object.getOwnPropertyNames(s).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function Xt(s,e){if(Ne&&!mt||Zone[s.symbol("patchEvents")])return;let n=e.__Zone_ignore_on_properties,t=[];if(Ke){let r=window;t=t.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let a=Ut()?[{target:r,ignoreProperties:["error"]}]:[];Tt(r,Ge(r),n&&n.concat(a),We(r))}t=t.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let r=0;r<t.length;r++){let a=e[t[r]];a&&a.prototype&&Tt(a.prototype,Ge(a.prototype),n)}}function Jt(s){s.__load_patch("legacy",e=>{let n=e[s.__symbol__("legacyPatch")];n&&n()}),s.__load_patch("timers",e=>{let n="set",t="clear";Se(e,n,t,"Timeout"),Se(e,n,t,"Interval"),Se(e,n,t,"Immediate")}),s.__load_patch("requestAnimationFrame",e=>{Se(e,"request","cancel","AnimationFrame"),Se(e,"mozRequest","mozCancel","AnimationFrame"),Se(e,"webkitRequest","webkitCancel","AnimationFrame")}),s.__load_patch("blocking",(e,n)=>{let t=["alert","prompt","confirm"];for(let r=0;r<t.length;r++){let a=t[r];pe(e,a,(h,d,f)=>function(S,m){return n.current.run(h,e,m,f)})}}),s.__load_patch("EventTarget",(e,n,t)=>{$t(e,t),Qt(e,t);let r=e.XMLHttpRequestEventTarget;r&&r.prototype&&t.patchEventTarget(e,t,[r.prototype])}),s.__load_patch("MutationObserver",(e,n,t)=>{Ae("MutationObserver"),Ae("WebKitMutationObserver")}),s.__load_patch("IntersectionObserver",(e,n,t)=>{Ae("IntersectionObserver")}),s.__load_patch("FileReader",(e,n,t)=>{Ae("FileReader")}),s.__load_patch("on_property",(e,n,t)=>{Xt(t,e)}),s.__load_patch("customElements",(e,n,t)=>{Vt(e,t)}),s.__load_patch("XHR",(e,n)=>{S(e);let t=V("xhrTask"),r=V("xhrSync"),a=V("xhrListener"),h=V("xhrScheduled"),d=V("xhrURL"),f=V("xhrErrorBeforeScheduled");function S(m){let I=m.XMLHttpRequest;if(!I)return;let w=I.prototype;function Z(x){return x[t]}let v=w[Ue],E=w[qe];if(!v){let x=m.XMLHttpRequestEventTarget;if(x){let M=x.prototype;v=M[Ue],E=M[qe]}}let R="readystatechange",y="scheduled";function l(x){let M=x.data,H=M.target;H[h]=!1,H[f]=!1;let te=H[a];v||(v=H[Ue],E=H[qe]),te&&E.call(H,R,te);let J=H[a]=()=>{if(H.readyState===H.DONE)if(!M.aborted&&H[h]&&x.state===y){let C=H[n.__symbol__("loadfalse")];if(H.status!==0&&C&&C.length>0){let o=x.invoke;x.invoke=function(){let c=H[n.__symbol__("loadfalse")];for(let O=0;O<c.length;O++)c[O]===x&&c.splice(O,1);!M.aborted&&x.state===y&&o.call(x)},C.push(x)}else x.invoke()}else!M.aborted&&H[h]===!1&&(H[f]=!0)};return v.call(H,R,J),H[t]||(H[t]=x),W.apply(H,M.args),H[h]=!0,x}function i(){}function T(x){let M=x.data;return M.aborted=!0,N.apply(M.target,M.args)}let _=pe(w,"open",()=>function(x,M){return x[r]=M[2]==!1,x[d]=M[1],_.apply(x,M)}),p="XMLHttpRequest.send",A=V("fetchTaskAborting"),P=V("fetchTaskScheduling"),W=pe(w,"send",()=>function(x,M){if(n.current[P]===!0||x[r])return W.apply(x,M);{let H={target:x,url:x[d],isPeriodic:!1,args:M,aborted:!1},te=Xe(p,i,H,l,T);x&&x[f]===!0&&!H.aborted&&te.state===y&&te.invoke()}}),N=pe(w,"abort",()=>function(x,M){let H=Z(x);if(H&&typeof H.type=="string"){if(H.cancelFn==null||H.data&&H.data.aborted)return;H.zone.cancelTask(H)}else if(n.current[A]===!0)return N.apply(x,M)})}}),s.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&xt(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),s.__load_patch("PromiseRejectionEvent",(e,n)=>{function t(r){return function(a){St(e,r).forEach(d=>{let f=e.PromiseRejectionEvent;if(f){let S=new f(r,{promise:a.promise,reason:a.rejection});d.invoke(S)}})}}e.PromiseRejectionEvent&&(n[V("unhandledPromiseRejectionHandler")]=t("unhandledrejection"),n[V("rejectionHandledHandler")]=t("rejectionhandled"))}),s.__load_patch("queueMicrotask",(e,n,t)=>{Wt(e,t)})}function Kt(s){s.__load_patch("ZoneAwarePromise",(e,n,t)=>{let r=Object.getOwnPropertyDescriptor,a=Object.defineProperty;function h(b){if(b&&b.toString===Object.prototype.toString){let g=b.constructor&&b.constructor.name;return(g||"")+": "+JSON.stringify(b)}return b?b.toString():Object.prototype.toString.call(b)}let d=t.symbol,f=[],S=e[d("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,m=d("Promise"),I=d("then"),w="__creationTrace__";t.onUnhandledError=b=>{if(t.showUncaughtError()){let g=b&&b.rejection;g?console.error("Unhandled Promise rejection:",g instanceof Error?g.message:g,"; Zone:",b.zone.name,"; Task:",b.task&&b.task.source,"; Value:",g,g instanceof Error?g.stack:void 0):console.error(b)}},t.microtaskDrainDone=()=>{for(;f.length;){let b=f.shift();try{b.zone.runGuarded(()=>{throw b.throwOriginal?b.rejection:b})}catch(g){v(g)}}};let Z=d("unhandledPromiseRejectionHandler");function v(b){t.onUnhandledError(b);try{let g=n[Z];typeof g=="function"&&g.call(this,b)}catch{}}function E(b){return b&&b.then}function R(b){return b}function y(b){return B.reject(b)}let l=d("state"),i=d("value"),T=d("finally"),_=d("parentPromiseValue"),p=d("parentPromiseState"),A="Promise.then",P=null,W=!0,N=!1,x=0;function M(b,g){return u=>{try{U(b,g,u)}catch(k){U(b,!1,k)}}}let H=function(){let b=!1;return function(u){return function(){b||(b=!0,u.apply(null,arguments))}}},te="Promise resolved with itself",J=d("currentTaskTrace");function U(b,g,u){let k=H();if(b===u)throw new TypeError(te);if(b[l]===P){let F=null;try{(typeof u=="object"||typeof u=="function")&&(F=u&&u.then)}catch(L){return k(()=>{U(b,!1,L)})(),b}if(g!==N&&u instanceof B&&u.hasOwnProperty(l)&&u.hasOwnProperty(i)&&u[l]!==P)o(u),U(b,u[l],u[i]);else if(g!==N&&typeof F=="function")try{F.call(u,k(M(b,g)),k(M(b,!1)))}catch(L){k(()=>{U(b,!1,L)})()}else{b[l]=g;let L=b[i];if(b[i]=u,b[T]===T&&g===W&&(b[l]=b[p],b[i]=b[_]),g===N&&u instanceof Error){let D=n.currentTask&&n.currentTask.data&&n.currentTask.data[w];D&&a(u,J,{configurable:!0,enumerable:!1,writable:!0,value:D})}for(let D=0;D<L.length;)c(b,L[D++],L[D++],L[D++],L[D++]);if(L.length==0&&g==N){b[l]=x;let D=u;try{throw new Error("Uncaught (in promise): "+h(u)+(u&&u.stack?`
`+u.stack:""))}catch(q){D=q}S&&(D.throwOriginal=!0),D.rejection=u,D.promise=b,D.zone=n.current,D.task=n.currentTask,f.push(D),t.scheduleMicroTask()}}}return b}let C=d("rejectionHandledHandler");function o(b){if(b[l]===x){try{let g=n[C];g&&typeof g=="function"&&g.call(this,{rejection:b[i],promise:b})}catch{}b[l]=N;for(let g=0;g<f.length;g++)b===f[g].promise&&f.splice(g,1)}}function c(b,g,u,k,F){o(b);let L=b[l],D=L?typeof k=="function"?k:R:typeof F=="function"?F:y;g.scheduleMicroTask(A,()=>{try{let q=b[i],z=!!u&&T===u[T];z&&(u[_]=q,u[p]=L);let G=g.run(D,void 0,z&&D!==y&&D!==R?[]:[q]);U(u,!0,G)}catch(q){U(u,!1,q)}},u)}let O="function ZoneAwarePromise() { [native code] }",j=function(){},K=e.AggregateError;class B{static toString(){return O}static resolve(g){return g instanceof B?g:U(new this(null),W,g)}static reject(g){return U(new this(null),N,g)}static withResolvers(){let g={};return g.promise=new B((u,k)=>{g.resolve=u,g.reject=k}),g}static any(g){if(!g||typeof g[Symbol.iterator]!="function")return Promise.reject(new K([],"All promises were rejected"));let u=[],k=0;try{for(let D of g)k++,u.push(B.resolve(D))}catch{return Promise.reject(new K([],"All promises were rejected"))}if(k===0)return Promise.reject(new K([],"All promises were rejected"));let F=!1,L=[];return new B((D,q)=>{for(let z=0;z<u.length;z++)u[z].then(G=>{F||(F=!0,D(G))},G=>{L.push(G),k--,k===0&&(F=!0,q(new K(L,"All promises were rejected")))})})}static race(g){let u,k,F=new this((q,z)=>{u=q,k=z});function L(q){u(q)}function D(q){k(q)}for(let q of g)E(q)||(q=this.resolve(q)),q.then(L,D);return F}static all(g){return B.allWithCallback(g)}static allSettled(g){return(this&&this.prototype instanceof B?this:B).allWithCallback(g,{thenCallback:k=>({status:"fulfilled",value:k}),errorCallback:k=>({status:"rejected",reason:k})})}static allWithCallback(g,u){let k,F,L=new this((G,Q)=>{k=G,F=Q}),D=2,q=0,z=[];for(let G of g){E(G)||(G=this.resolve(G));let Q=q;try{G.then($=>{z[Q]=u?u.thenCallback($):$,D--,D===0&&k(z)},$=>{u?(z[Q]=u.errorCallback($),D--,D===0&&k(z)):F($)})}catch($){F($)}D++,q++}return D-=2,D===0&&k(z),L}constructor(g){let u=this;if(!(u instanceof B))throw new Error("Must be an instanceof Promise.");u[l]=P,u[i]=[];try{let k=H();g&&g(k(M(u,W)),k(M(u,N)))}catch(k){U(u,!1,k)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return B}then(g,u){let k=this.constructor?.[Symbol.species];(!k||typeof k!="function")&&(k=this.constructor||B);let F=new k(j),L=n.current;return this[l]==P?this[i].push(L,F,g,u):c(this,L,F,g,u),F}catch(g){return this.then(null,g)}finally(g){let u=this.constructor?.[Symbol.species];(!u||typeof u!="function")&&(u=B);let k=new u(j);k[T]=T;let F=n.current;return this[l]==P?this[i].push(F,k,g,g):c(this,F,k,g,g),k}}B.resolve=B.resolve,B.reject=B.reject,B.race=B.race,B.all=B.all;let ye=e[m]=e.Promise;e.Promise=B;let he=d("thenPatched");function fe(b){let g=b.prototype,u=r(g,"then");if(u&&(u.writable===!1||!u.configurable))return;let k=g.then;g[I]=k,b.prototype.then=function(F,L){return new B((q,z)=>{k.call(this,q,z)}).then(F,L)},b[he]=!0}t.patchThen=fe;function se(b){return function(g,u){let k=b.apply(g,u);if(k instanceof B)return k;let F=k.constructor;return F[he]||fe(F),k}}return ye&&(fe(ye),pe(e,"fetch",b=>se(b))),Promise[n.__symbol__("uncaughtPromiseErrors")]=f,B})}function Yt(s){s.__load_patch("toString",e=>{let n=Function.prototype.toString,t=V("OriginalDelegate"),r=V("Promise"),a=V("Error"),h=function(){if(typeof this=="function"){let m=this[t];if(m)return typeof m=="function"?n.call(m):Object.prototype.toString.call(m);if(this===Promise){let I=e[r];if(I)return n.call(I)}if(this===Error){let I=e[a];if(I)return n.call(I)}}return n.call(this)};h[t]=n,Function.prototype.toString=h;let d=Object.prototype.toString,f="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?f:d.call(this)}})}function en(s,e,n,t,r){let a=Zone.__symbol__(t);if(e[a])return;let h=e[a]=e[t];e[t]=function(d,f,S){return f&&f.prototype&&r.forEach(function(m){let I=`${n}.${t}::`+m,w=f.prototype;try{if(w.hasOwnProperty(m)){let Z=s.ObjectGetOwnPropertyDescriptor(w,m);Z&&Z.value?(Z.value=s.wrapWithCurrentZone(Z.value,I),s._redefineProperty(f.prototype,m,Z)):w[m]&&(w[m]=s.wrapWithCurrentZone(w[m],I))}else w[m]&&(w[m]=s.wrapWithCurrentZone(w[m],I))}catch{}}),h.call(e,d,f,S)},s.attachOriginToPatched(e[t],h)}function tn(s){s.__load_patch("util",(e,n,t)=>{let r=Ge(e);t.patchOnProperties=yt,t.patchMethod=pe,t.bindArguments=Je,t.patchMacroTask=Ht;let a=n.__symbol__("BLACK_LISTED_EVENTS"),h=n.__symbol__("UNPATCHED_EVENTS");e[h]&&(e[a]=e[h]),e[a]&&(n[a]=n[h]=e[a]),t.patchEventPrototype=Bt,t.patchEventTarget=Gt,t.isIEOrEdge=qt,t.ObjectDefineProperty=Be,t.ObjectGetOwnPropertyDescriptor=Ce,t.ObjectCreate=Zt,t.ArraySlice=jt,t.patchClass=Ae,t.wrapWithCurrentZone=$e,t.filterProperties=Pt,t.attachOriginToPatched=_e,t._redefineProperty=Object.defineProperty,t.patchCallbacks=en,t.getGlobalObjects=()=>({globalSources:gt,zoneSymbolEventNames:re,eventNames:r,isBrowser:Ke,isMix:mt,isNode:Ne,TRUE_STR:de,FALSE_STR:Te,ZONE_SYMBOL_PREFIX:Re,ADD_EVENT_LISTENER_STR:Ve,REMOVE_EVENT_LISTENER_STR:Qe})})}function nn(s){Kt(s),Yt(s),tn(s)}var vt=Mt();nn(vt);Jt(vt);function rn(s){s.__load_patch("jasmine",(e,n,t)=>{let r=function(y,l){for(let T in l)l.hasOwnProperty(T)&&(y[T]=l[T]);function i(){this.constructor=y}y.prototype=l===null?Object.create(l):(i.prototype=l.prototype,new i)};if(!n)throw new Error("Missing: zone.js");if(typeof jest<"u"||typeof jasmine>"u"||jasmine.__zone_patch__)return;jasmine.__zone_patch__=!0;let a=n.SyncTestZoneSpec,h=n.ProxyZoneSpec;if(!a)throw new Error("Missing: SyncTestZoneSpec");if(!h)throw new Error("Missing: ProxyZoneSpec");let d=n.current,f=n.__symbol__,S=e[f("fakeAsyncDisablePatchingClock")]===!0,m=!S&&(e[f("fakeAsyncPatchLock")]===!0||e[f("fakeAsyncAutoFakeAsyncWhenClockPatched")]===!0);if(!(e[f("ignoreUnhandledRejection")]===!0)){let y=jasmine.GlobalErrors;y&&!jasmine[f("GlobalErrors")]&&(jasmine[f("GlobalErrors")]=y,jasmine.GlobalErrors=function(){let l=new y,i=l.install;return i&&!l[f("install")]&&(l[f("install")]=i,l.install=function(){let T=typeof process<"u"&&!!process.on,_=T?process.listeners("unhandledRejection"):e.eventListeners("unhandledrejection"),p=i.apply(this,arguments);return T?process.removeAllListeners("unhandledRejection"):e.removeAllListeners("unhandledrejection"),_&&_.forEach(A=>{T?process.on("unhandledRejection",A):e.addEventListener("unhandledrejection",A)}),p}),l})}let w=jasmine.getEnv();if(["describe","xdescribe","fdescribe"].forEach(y=>{let l=w[y];w[y]=function(i,T){return l.call(this,i,Z(i,T))}}),["it","xit","fit"].forEach(y=>{let l=w[y];w[f(y)]=l,w[y]=function(i,T,_){return arguments[1]=E(T),l.apply(this,arguments)}}),["beforeEach","afterEach","beforeAll","afterAll"].forEach(y=>{let l=w[y];w[f(y)]=l,w[y]=function(i,T){return arguments[0]=E(i),l.apply(this,arguments)}}),!S){let y=jasmine[f("clock")]=jasmine.clock;jasmine.clock=function(){let l=y.apply(this,arguments);if(!l[f("patched")]){l[f("patched")]=f("patched");let i=l[f("tick")]=l.tick;l.tick=function(){let _=n.current.get("FakeAsyncTestZoneSpec");return _?_.tick.apply(_,arguments):i.apply(this,arguments)};let T=l[f("mockDate")]=l.mockDate;l.mockDate=function(){let _=n.current.get("FakeAsyncTestZoneSpec");if(_){let p=arguments.length>0?arguments[0]:new Date;return _.setFakeBaseSystemTime.apply(_,p&&typeof p.getTime=="function"?[p.getTime()]:arguments)}return T.apply(this,arguments)},m&&["install","uninstall"].forEach(_=>{let p=l[f(_)]=l[_];l[_]=function(){if(n.FakeAsyncTestZoneSpec){jasmine[f("clockInstalled")]=_==="install";return}return p.apply(this,arguments)}})}return l}}if(!jasmine[n.__symbol__("createSpyObj")]){let y=jasmine.createSpyObj;jasmine[n.__symbol__("createSpyObj")]=y,jasmine.createSpyObj=function(){let l=Array.prototype.slice.call(arguments),i=l.length>=3?l[2]:null,T;if(i){let _=Object.defineProperty;Object.defineProperty=function(p,A,P){return _.call(this,p,A,{...P,configurable:!0,enumerable:!0})};try{T=y.apply(this,l)}finally{Object.defineProperty=_}}else T=y.apply(this,l);return T}}function Z(y,l){return function(){return d.fork(new a(`jasmine.describe#${y}`)).run(l,this,arguments)}}function v(y,l,i,T){let _=!!jasmine[f("clockInstalled")];i.testProxyZoneSpec;let p=i.testProxyZone;if(_&&m){let A=n[n.__symbol__("fakeAsyncTest")];A&&typeof A.fakeAsync=="function"&&(y=A.fakeAsync(y))}return T?p.run(y,l,[T]):p.run(y,l)}function E(y){return y&&(y.length?function(l){return v(y,this,this.queueRunner,l)}:function(){return v(y,this,this.queueRunner)})}let R=jasmine.QueueRunner;jasmine.QueueRunner=function(y){r(l,y);function l(i){i.onComplete&&(i.onComplete=(A=>()=>{this.testProxyZone=null,this.testProxyZoneSpec=null,d.scheduleMicroTask("jasmine.onComplete",A)})(i.onComplete));let T=e[n.__symbol__("setTimeout")],_=e[n.__symbol__("clearTimeout")];T&&(i.timeout={setTimeout:T||e.setTimeout,clearTimeout:_||e.clearTimeout}),jasmine.UserContext?(i.userContext||(i.userContext=new jasmine.UserContext),i.userContext.queueRunner=this):(i.userContext||(i.userContext={}),i.userContext.queueRunner=this);let p=i.onException;i.onException=function(A){if(A&&A.message==="Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL."){let P=this&&this.testProxyZoneSpec;if(P){let W=P.getAndClearPendingTasksInfo();try{A.message+=W}catch{}}}p&&p.call(this,A)},y.call(this,i)}return l.prototype.execute=function(){let i=n.current,T=!1;for(;i;){if(i===d){T=!0;break}i=i.parent}if(!T)throw new Error("Unexpected Zone: "+n.current.name);this.testProxyZoneSpec=new h,this.testProxyZone=d.fork(this.testProxyZoneSpec),n.currentTask?y.prototype.execute.call(this):n.current.scheduleMicroTask("jasmine.execute().forceTask",()=>R.prototype.execute.call(this))},l}(R)})}function sn(s){s.__load_patch("jest",(e,n,t)=>{if(typeof jest>"u"||jest.__zone_patch__)return;n[t.symbol("ignoreConsoleErrorUncaughtError")]=!0,jest.__zone_patch__=!0;let r=n.ProxyZoneSpec,a=n.SyncTestZoneSpec;if(!r)throw new Error("Missing ProxyZoneSpec");let h=n.current,d=h.fork(new a("jest.describe")),f=new r,S=h.fork(f);function m(v){return function(...E){let R=v.apply(this,E);return function(...y){return y[1]=w(y[1]),R.apply(this,y)}}}function I(v){return function(...E){return function(...R){return R[1]=Z(R[1]),v.apply(this,E).apply(this,R)}}}function w(v){return function(...E){return d.run(v,this,E)}}function Z(v,E=!1){if(typeof v!="function")return v;let R=function(){if(n[t.symbol("useFakeTimersCalled")]===!0&&v&&!v.isFakeAsync){let y=n[n.__symbol__("fakeAsyncTest")];y&&typeof y.fakeAsync=="function"&&(v=y.fakeAsync(v))}return f.isTestFunc=E,S.run(v,null,arguments)};return Object.defineProperty(R,"length",{configurable:!0,writable:!0,enumerable:!1}),R.length=v.length,R}["describe","xdescribe","fdescribe"].forEach(v=>{let E=e[v];e[n.__symbol__(v)]||(e[n.__symbol__(v)]=E,e[v]=function(...R){return R[1]=w(R[1]),E.apply(this,R)},e[v].each=m(E.each))}),e.describe.only=e.fdescribe,e.describe.skip=e.xdescribe,["it","xit","fit","test","xtest"].forEach(v=>{let E=e[v];e[n.__symbol__(v)]||(e[n.__symbol__(v)]=E,e[v]=function(...R){return R[1]=Z(R[1],!0),E.apply(this,R)},e[v].each=I(E.each),e[v].todo=E.todo,e[v].failing=E.failing)}),e.it.only=e.fit,e.it.skip=e.xit,e.test.only=e.fit,e.test.skip=e.xit,["beforeEach","afterEach","beforeAll","afterAll"].forEach(v=>{let E=e[v];e[n.__symbol__(v)]||(e[n.__symbol__(v)]=E,e[v]=function(...R){return R[0]=Z(R[0]),E.apply(this,R)})}),n.patchJestObject=function(E,R=!1){function y(){return!!n.current.get("FakeAsyncTestZoneSpec")}function l(){let i=n.current.get("ProxyZoneSpec");return i&&i.isTestFunc}E[t.symbol("fakeTimers")]||(E[t.symbol("fakeTimers")]=!0,t.patchMethod(E,"_checkFakeTimers",i=>function(T,_){return y()?!0:i.apply(T,_)}),t.patchMethod(E,"useFakeTimers",i=>function(T,_){return n[t.symbol("useFakeTimersCalled")]=!0,R||l()?i.apply(T,_):T}),t.patchMethod(E,"useRealTimers",i=>function(T,_){return n[t.symbol("useFakeTimersCalled")]=!1,R||l()?i.apply(T,_):T}),t.patchMethod(E,"setSystemTime",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p&&y())p.setFakeBaseSystemTime(_[0]);else return i.apply(T,_)}),t.patchMethod(E,"getRealSystemTime",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");return p&&y()?p.getRealSystemTime():i.apply(T,_)}),t.patchMethod(E,"runAllTicks",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.flushMicrotasks();else return i.apply(T,_)}),t.patchMethod(E,"runAllTimers",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.flush(100,!0);else return i.apply(T,_)}),t.patchMethod(E,"advanceTimersByTime",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.tick(_[0]);else return i.apply(T,_)}),t.patchMethod(E,"runOnlyPendingTimers",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.flushOnlyPendingTimers();else return i.apply(T,_)}),t.patchMethod(E,"advanceTimersToNextTimer",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.tickToNext(_[0]);else return i.apply(T,_)}),t.patchMethod(E,"clearAllTimers",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.removeAllTimers();else return i.apply(T,_)}),t.patchMethod(E,"getTimerCount",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");return p?p.getTimerCount():i.apply(T,_)}))}})}function on(s){s.__load_patch("mocha",(e,n)=>{let t=e.Mocha;if(typeof t>"u")return;if(typeof n>"u")throw new Error("Missing Zone.js");let r=n.ProxyZoneSpec,a=n.SyncTestZoneSpec;if(!r)throw new Error("Missing ProxyZoneSpec");if(t.__zone_patch__)throw new Error('"Mocha" has already been patched with "Zone".');t.__zone_patch__=!0;let h=n.current,d=h.fork(new a("Mocha.describe")),f=null,S=h.fork(new r),m={after:e.after,afterEach:e.afterEach,before:e.before,beforeEach:e.beforeEach,describe:e.describe,it:e.it};function I(E,R,y){for(let l=0;l<E.length;l++){let i=E[l];typeof i=="function"&&(E[l]=i.length===0?R(i):y(i),E[l].toString=function(){return i.toString()})}return E}function w(E){return I(E,function(y){return function(){return d.run(y,this,arguments)}})}function Z(E){return I(E,function(l){return function(){return f.run(l,this)}},function(l){return function(i){return f.run(l,this,[i])}})}function v(E){return I(E,function(l){return function(){return S.run(l,this)}},function(l){return function(i){return S.run(l,this,[i])}})}e.describe=e.suite=function(){return m.describe.apply(this,w(arguments))},e.xdescribe=e.suite.skip=e.describe.skip=function(){return m.describe.skip.apply(this,w(arguments))},e.describe.only=e.suite.only=function(){return m.describe.only.apply(this,w(arguments))},e.it=e.specify=e.test=function(){return m.it.apply(this,Z(arguments))},e.xit=e.xspecify=e.it.skip=function(){return m.it.skip.apply(this,Z(arguments))},e.it.only=e.test.only=function(){return m.it.only.apply(this,Z(arguments))},e.after=e.suiteTeardown=function(){return m.after.apply(this,v(arguments))},e.afterEach=e.teardown=function(){return m.afterEach.apply(this,Z(arguments))},e.before=e.suiteSetup=function(){return m.before.apply(this,v(arguments))},e.beforeEach=e.setup=function(){return m.beforeEach.apply(this,Z(arguments))},((E,R)=>{t.Runner.prototype.runTest=function(y){n.current.scheduleMicroTask("mocha.forceTask",()=>{E.call(this,y)})},t.Runner.prototype.run=function(y){return this.on("test",l=>{f=h.fork(new r)}),this.on("fail",(l,i)=>{let T=f&&f.get("ProxyZoneSpec");if(T&&i)try{i.message+=T.getAndClearPendingTasksInfo()}catch{}}),R.call(this,y)}})(t.Runner.prototype.runTest,t.Runner.prototype.run)})}var cn=globalThis;function wt(s){return(cn.__Zone_symbol_prefix||"__zone_symbol__")+s}var an=typeof window<"u"&&window||typeof self<"u"&&self||global,Ye=class s{static get symbolParentUnresolved(){return wt("parentUnresolved")}constructor(e,n,t){this.finishCallback=e,this.failCallback=n,this._pendingMicroTasks=!1,this._pendingMacroTasks=!1,this._alreadyErrored=!1,this._isSync=!1,this._existingFinishTimer=null,this.entryFunction=null,this.runZone=Zone.current,this.unresolvedChainedPromiseCount=0,this.supportWaitUnresolvedChainedPromise=!1,this.name="asyncTestZone for "+t,this.properties={AsyncTestZoneSpec:this},this.supportWaitUnresolvedChainedPromise=an[wt("supportWaitUnResolvedChainedPromise")]===!0}isUnresolvedChainedPromisePending(){return this.unresolvedChainedPromiseCount>0}_finishCallbackIfDone(){this._existingFinishTimer!==null&&(clearTimeout(this._existingFinishTimer),this._existingFinishTimer=null),this._pendingMicroTasks||this._pendingMacroTasks||this.supportWaitUnresolvedChainedPromise&&this.isUnresolvedChainedPromisePending()||this.runZone.run(()=>{this._existingFinishTimer=setTimeout(()=>{!this._alreadyErrored&&!(this._pendingMicroTasks||this._pendingMacroTasks)&&this.finishCallback()},0)})}patchPromiseForTest(){if(!this.supportWaitUnresolvedChainedPromise)return;let e=Promise[Zone.__symbol__("patchPromiseForTest")];e&&e()}unPatchPromiseForTest(){if(!this.supportWaitUnresolvedChainedPromise)return;let e=Promise[Zone.__symbol__("unPatchPromiseForTest")];e&&e()}onScheduleTask(e,n,t,r){return r.type!=="eventTask"&&(this._isSync=!1),r.type==="microTask"&&r.data&&r.data instanceof Promise&&r.data[s.symbolParentUnresolved]===!0&&this.unresolvedChainedPromiseCount--,e.scheduleTask(t,r)}onInvokeTask(e,n,t,r,a,h){return r.type!=="eventTask"&&(this._isSync=!1),e.invokeTask(t,r,a,h)}onCancelTask(e,n,t,r){return r.type!=="eventTask"&&(this._isSync=!1),e.cancelTask(t,r)}onInvoke(e,n,t,r,a,h,d){this.entryFunction||(this.entryFunction=r);try{return this._isSync=!0,e.invoke(t,r,a,h,d)}finally{this._isSync&&this.entryFunction===r&&this._finishCallbackIfDone()}}onHandleError(e,n,t,r){return e.handleError(t,r)&&(this.failCallback(r),this._alreadyErrored=!0),!1}onHasTask(e,n,t,r){e.hasTask(t,r),n===t&&(r.change=="microTask"?(this._pendingMicroTasks=r.microTask,this._finishCallbackIfDone()):r.change=="macroTask"&&(this._pendingMacroTasks=r.macroTask,this._finishCallbackIfDone()))}};function un(s){s.AsyncTestZoneSpec=Ye,s.__load_patch("asynctest",(e,n,t)=>{n[t.symbol("asyncTest")]=function(h){return e.jasmine?function(d){d||(d=function(){},d.fail=function(f){throw f}),r(h,this,d,f=>{if(typeof f=="string")return d.fail(new Error(f));d.fail(f)})}:function(){return new Promise((d,f)=>{r(h,this,d,f)})}};function r(a,h,d,f){let S=n.current,m=n.AsyncTestZoneSpec;if(m===void 0)throw new Error("AsyncTestZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/async-test");let I=n.ProxyZoneSpec;if(!I)throw new Error("ProxyZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/proxy");let w=I.get();I.assertPresent();let Z=n.current.getZoneWith("ProxyZoneSpec"),v=w.getDelegate();return Z.parent.run(()=>{let E=new m(()=>{w.getDelegate()==E&&w.setDelegate(v),E.unPatchPromiseForTest(),S.run(()=>{d()})},R=>{w.getDelegate()==E&&w.setDelegate(v),E.unPatchPromiseForTest(),S.run(()=>{f(R)})},"test");w.setDelegate(E),E.patchPromiseForTest()}),n.current.runGuarded(a,h)}})}var X=typeof window=="object"&&window||typeof self=="object"&&self||globalThis.global,me=X.Date;function ke(){if(arguments.length===0){let s=new me;return s.setTime(ke.now()),s}else{let s=Array.prototype.slice.call(arguments);return new me(...s)}}ke.now=function(){let s=Zone.current.get("FakeAsyncTestZoneSpec");return s?s.getFakeSystemTime():me.now.apply(this,arguments)};ke.UTC=me.UTC;ke.parse=me.parse;var le,ln=function(){},De=(()=>{class s{static{this.nextNodeJSId=1}static{this.nextId=-1}constructor(){this._schedulerQueue=[],this._currentTickTime=0,this._currentFakeBaseSystemTime=me.now(),this._currentTickRequeuePeriodicEntries=[]}static getNextId(){let n=le.nativeSetTimeout.call(X,ln,0);return le.nativeClearTimeout.call(X,n),typeof n=="number"?n:s.nextNodeJSId++}getCurrentTickTime(){return this._currentTickTime}getFakeSystemTime(){return this._currentFakeBaseSystemTime+this._currentTickTime}setFakeBaseSystemTime(n){this._currentFakeBaseSystemTime=n}getRealSystemTime(){return me.now()}scheduleFunction(n,t,r){r={args:[],isPeriodic:!1,isRequestAnimationFrame:!1,id:-1,isRequeuePeriodic:!1,...r};let a=r.id<0?s.nextId:r.id;s.nextId=s.getNextId();let d={endTime:this._currentTickTime+t,id:a,func:n,args:r.args,delay:t,isPeriodic:r.isPeriodic,isRequestAnimationFrame:r.isRequestAnimationFrame};r.isRequeuePeriodic&&this._currentTickRequeuePeriodicEntries.push(d);let f=0;for(;f<this._schedulerQueue.length;f++){let S=this._schedulerQueue[f];if(d.endTime<S.endTime)break}return this._schedulerQueue.splice(f,0,d),a}removeScheduledFunctionWithId(n){for(let t=0;t<this._schedulerQueue.length;t++)if(this._schedulerQueue[t].id==n){this._schedulerQueue.splice(t,1);break}}removeAll(){this._schedulerQueue=[]}getTimerCount(){return this._schedulerQueue.length}tickToNext(n=1,t,r){if(this._schedulerQueue.length<n)return;let a=this._currentTickTime,h=this._schedulerQueue[n-1];this.tick(h.endTime-a,t,r)}tick(n=0,t,r){let a=this._currentTickTime+n,h=0;r=Object.assign({processNewMacroTasksSynchronously:!0},r);let d=r.processNewMacroTasksSynchronously?this._schedulerQueue:this._schedulerQueue.slice();if(d.length===0&&t){t(n);return}for(;d.length>0;){this._currentTickRequeuePeriodicEntries=[];let f=d[0];if(a<f.endTime)break;{let S=d.shift();if(!r.processNewMacroTasksSynchronously){let I=this._schedulerQueue.indexOf(S);I>=0&&this._schedulerQueue.splice(I,1)}if(h=this._currentTickTime,this._currentTickTime=S.endTime,t&&t(this._currentTickTime-h),!S.func.apply(X,S.isRequestAnimationFrame?[this._currentTickTime]:S.args))break;r.processNewMacroTasksSynchronously||this._currentTickRequeuePeriodicEntries.forEach(I=>{let w=0;for(;w<d.length;w++){let Z=d[w];if(I.endTime<Z.endTime)break}d.splice(w,0,I)})}}h=this._currentTickTime,this._currentTickTime=a,t&&t(this._currentTickTime-h)}flushOnlyPendingTimers(n){if(this._schedulerQueue.length===0)return 0;let t=this._currentTickTime,r=this._schedulerQueue[this._schedulerQueue.length-1];return this.tick(r.endTime-t,n,{processNewMacroTasksSynchronously:!1}),this._currentTickTime-t}flush(n=20,t=!1,r){return t?this.flushPeriodic(r):this.flushNonPeriodic(n,r)}flushPeriodic(n){if(this._schedulerQueue.length===0)return 0;let t=this._currentTickTime,r=this._schedulerQueue[this._schedulerQueue.length-1];return this.tick(r.endTime-t,n),this._currentTickTime-t}flushNonPeriodic(n,t){let r=this._currentTickTime,a=0,h=0;for(;this._schedulerQueue.length>0;){if(h++,h>n)throw new Error("flush failed after reaching the limit of "+n+" tasks. Does your code use a polling timeout?");if(this._schedulerQueue.filter(S=>!S.isPeriodic&&!S.isRequestAnimationFrame).length===0)break;let d=this._schedulerQueue.shift();if(a=this._currentTickTime,this._currentTickTime=d.endTime,t&&t(this._currentTickTime-a),!d.func.apply(X,d.args))break}return this._currentTickTime-r}}return s})(),et=class s{static assertInZone(){if(Zone.current.get("FakeAsyncTestZoneSpec")==null)throw new Error("The code should be running in the fakeAsync zone to call this function")}constructor(e,n=!1,t){this.trackPendingRequestAnimationFrame=n,this.macroTaskOptions=t,this._scheduler=new De,this._microtasks=[],this._lastError=null,this._uncaughtPromiseErrors=Promise[Zone.__symbol__("uncaughtPromiseErrors")],this.pendingPeriodicTimers=[],this.pendingTimers=[],this.patchDateLocked=!1,this.properties={FakeAsyncTestZoneSpec:this},this.name="fakeAsyncTestZone for "+e,this.macroTaskOptions||(this.macroTaskOptions=X[Zone.__symbol__("FakeAsyncTestMacroTask")])}_fnAndFlush(e,n){return(...t)=>(e.apply(X,t),this._lastError===null?(n.onSuccess!=null&&n.onSuccess.apply(X),this.flushMicrotasks()):n.onError!=null&&n.onError.apply(X),this._lastError===null)}static _removeTimer(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}_dequeueTimer(e){return()=>{s._removeTimer(this.pendingTimers,e)}}_requeuePeriodicTimer(e,n,t,r){return()=>{this.pendingPeriodicTimers.indexOf(r)!==-1&&this._scheduler.scheduleFunction(e,n,{args:t,isPeriodic:!0,id:r,isRequeuePeriodic:!0})}}_dequeuePeriodicTimer(e){return()=>{s._removeTimer(this.pendingPeriodicTimers,e)}}_setTimeout(e,n,t,r=!0){let a=this._dequeueTimer(De.nextId),h=this._fnAndFlush(e,{onSuccess:a,onError:a}),d=this._scheduler.scheduleFunction(h,n,{args:t,isRequestAnimationFrame:!r});return r&&this.pendingTimers.push(d),d}_clearTimeout(e){s._removeTimer(this.pendingTimers,e),this._scheduler.removeScheduledFunctionWithId(e)}_setInterval(e,n,t){let r=De.nextId,a={onSuccess:null,onError:this._dequeuePeriodicTimer(r)},h=this._fnAndFlush(e,a);return a.onSuccess=this._requeuePeriodicTimer(h,n,t,r),this._scheduler.scheduleFunction(h,n,{args:t,isPeriodic:!0}),this.pendingPeriodicTimers.push(r),r}_clearInterval(e){s._removeTimer(this.pendingPeriodicTimers,e),this._scheduler.removeScheduledFunctionWithId(e)}_resetLastErrorAndThrow(){let e=this._lastError||this._uncaughtPromiseErrors[0];throw this._uncaughtPromiseErrors.length=0,this._lastError=null,e}getCurrentTickTime(){return this._scheduler.getCurrentTickTime()}getFakeSystemTime(){return this._scheduler.getFakeSystemTime()}setFakeBaseSystemTime(e){this._scheduler.setFakeBaseSystemTime(e)}getRealSystemTime(){return this._scheduler.getRealSystemTime()}static patchDate(){X[Zone.__symbol__("disableDatePatching")]||X.Date!==ke&&(X.Date=ke,ke.prototype=me.prototype,s.checkTimerPatch())}static resetDate(){X.Date===ke&&(X.Date=me)}static checkTimerPatch(){if(!le)throw new Error("Expected timers to have been patched.");X.setTimeout!==le.setTimeout&&(X.setTimeout=le.setTimeout,X.clearTimeout=le.clearTimeout),X.setInterval!==le.setInterval&&(X.setInterval=le.setInterval,X.clearInterval=le.clearInterval)}lockDatePatch(){this.patchDateLocked=!0,s.patchDate()}unlockDatePatch(){this.patchDateLocked=!1,s.resetDate()}tickToNext(e=1,n,t={processNewMacroTasksSynchronously:!0}){e<=0||(s.assertInZone(),this.flushMicrotasks(),this._scheduler.tickToNext(e,n,t),this._lastError!==null&&this._resetLastErrorAndThrow())}tick(e=0,n,t={processNewMacroTasksSynchronously:!0}){s.assertInZone(),this.flushMicrotasks(),this._scheduler.tick(e,n,t),this._lastError!==null&&this._resetLastErrorAndThrow()}flushMicrotasks(){s.assertInZone();let e=()=>{(this._lastError!==null||this._uncaughtPromiseErrors.length)&&this._resetLastErrorAndThrow()};for(;this._microtasks.length>0;){let n=this._microtasks.shift();n.func.apply(n.target,n.args)}e()}flush(e,n,t){s.assertInZone(),this.flushMicrotasks();let r=this._scheduler.flush(e,n,t);return this._lastError!==null&&this._resetLastErrorAndThrow(),r}flushOnlyPendingTimers(e){s.assertInZone(),this.flushMicrotasks();let n=this._scheduler.flushOnlyPendingTimers(e);return this._lastError!==null&&this._resetLastErrorAndThrow(),n}removeAllTimers(){s.assertInZone(),this._scheduler.removeAll(),this.pendingPeriodicTimers=[],this.pendingTimers=[]}getTimerCount(){return this._scheduler.getTimerCount()+this._microtasks.length}onScheduleTask(e,n,t,r){switch(r.type){case"microTask":let a=r.data&&r.data.args,h;if(a){let d=r.data.cbIdx;typeof a.length=="number"&&a.length>d+1&&(h=Array.prototype.slice.call(a,d+1))}this._microtasks.push({func:r.invoke,args:h,target:r.data&&r.data.target});break;case"macroTask":switch(r.source){case"setTimeout":r.data.handleId=this._setTimeout(r.invoke,r.data.delay,Array.prototype.slice.call(r.data.args,2));break;case"setImmediate":r.data.handleId=this._setTimeout(r.invoke,0,Array.prototype.slice.call(r.data.args,1));break;case"setInterval":r.data.handleId=this._setInterval(r.invoke,r.data.delay,Array.prototype.slice.call(r.data.args,2));break;case"XMLHttpRequest.send":throw new Error("Cannot make XHRs from within a fake async test. Request URL: "+r.data.url);case"requestAnimationFrame":case"webkitRequestAnimationFrame":case"mozRequestAnimationFrame":r.data.handleId=this._setTimeout(r.invoke,16,r.data.args,this.trackPendingRequestAnimationFrame);break;default:let d=this.findMacroTaskOption(r);if(d){let f=r.data&&r.data.args,S=f&&f.length>1?f[1]:0,m=d.callbackArgs?d.callbackArgs:f;d.isPeriodic?(r.data.handleId=this._setInterval(r.invoke,S,m),r.data.isPeriodic=!0):r.data.handleId=this._setTimeout(r.invoke,S,m);break}throw new Error("Unknown macroTask scheduled in fake async test: "+r.source)}break;case"eventTask":r=e.scheduleTask(t,r);break}return r}onCancelTask(e,n,t,r){switch(r.source){case"setTimeout":case"requestAnimationFrame":case"webkitRequestAnimationFrame":case"mozRequestAnimationFrame":return this._clearTimeout(r.data.handleId);case"setInterval":return this._clearInterval(r.data.handleId);default:let a=this.findMacroTaskOption(r);if(a){let h=r.data.handleId;return a.isPeriodic?this._clearInterval(h):this._clearTimeout(h)}return e.cancelTask(t,r)}}onInvoke(e,n,t,r,a,h,d){try{return s.patchDate(),e.invoke(t,r,a,h,d)}finally{this.patchDateLocked||s.resetDate()}}findMacroTaskOption(e){if(!this.macroTaskOptions)return null;for(let n=0;n<this.macroTaskOptions.length;n++){let t=this.macroTaskOptions[n];if(t.source===e.source)return t}return null}onHandleError(e,n,t,r){return this._lastError=r,!1}},ee=null;function tt(){return Zone&&Zone.ProxyZoneSpec}function It(){ee&&ee.unlockDatePatch(),ee=null,tt()&&tt().assertPresent().resetDelegate()}function hn(s,e={}){let{flush:n=!0}=e,t=function(...r){let a=tt();if(!a)throw new Error("ProxyZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/proxy");let h=a.assertPresent();if(Zone.current.get("FakeAsyncTestZoneSpec"))throw new Error("fakeAsync() calls can not be nested");try{if(!ee){let S=Zone&&Zone.FakeAsyncTestZoneSpec;if(h.getDelegate()instanceof S)throw new Error("fakeAsync() calls can not be nested");ee=new S}let d,f=h.getDelegate();h.setDelegate(ee),ee.lockDatePatch();try{d=s.apply(this,r),n?ee.flush(20,!0):At()}finally{h.setDelegate(f)}if(!n){if(ee.pendingPeriodicTimers.length>0)throw new Error(`${ee.pendingPeriodicTimers.length} periodic timer(s) still in the queue.`);if(ee.pendingTimers.length>0)throw new Error(`${ee.pendingTimers.length} timer(s) still in the queue.`)}return d}finally{It()}};return t.isFakeAsync=!0,t}function xe(){if(ee==null&&(ee=Zone.current.get("FakeAsyncTestZoneSpec"),ee==null))throw new Error("The code should be running in the fakeAsync zone to call this function");return ee}function fn(s=0,e=!1){xe().tick(s,null,e)}function dn(s){return xe().flush(s)}function Tn(){let s=xe();s.pendingPeriodicTimers,s.pendingPeriodicTimers.length=0}function At(){xe().flushMicrotasks()}function pn(s){s.FakeAsyncTestZoneSpec=et,s.__load_patch("fakeasync",(e,n,t)=>{n[t.symbol("fakeAsyncTest")]={resetFakeAsyncZone:It,flushMicrotasks:At,discardPeriodicTasks:Tn,tick:fn,flush:dn,fakeAsync:hn}},!0),le={setTimeout:X.setTimeout,setInterval:X.setInterval,clearTimeout:X.clearTimeout,clearInterval:X.clearInterval,nativeSetTimeout:X[s.__symbol__("setTimeout")],nativeClearTimeout:X[s.__symbol__("clearTimeout")]},De.nextId=De.getNextId()}function _n(s){let e=`
`,n={},t="__creationTrace__",r="STACKTRACE TRACKING",a="__SEP_TAG__",h=a+"@[native]";class d{constructor(){this.error=w(),this.timestamp=new Date}}function f(){return new Error(r)}function S(){try{throw f()}catch(i){return i}}let m=f(),I=S(),w=m.stack?f:I.stack?S:f;function Z(i){return i.stack?i.stack.split(e):[]}function v(i,T){let _=Z(T);for(let p=0;p<_.length;p++){let A=_[p];n.hasOwnProperty(A)||i.push(_[p])}}function E(i,T){let _=[T?T.trim():""];if(i){let p=new Date().getTime();for(let A=0;A<i.length;A++){let P=i[A],W=P.timestamp,N=`____________________Elapsed ${p-W.getTime()} ms; At: ${W}`;N=N.replace(/[^\w\d]/g,"_"),_.push(h.replace(a,N)),v(_,P.error),p=W.getTime()}}return _.join(e)}function R(){return Error.stackTraceLimit>0}s.longStackTraceZoneSpec={name:"long-stack-trace",longStackTraceLimit:10,getLongStackTrace:function(i){if(!i)return;let T=i[s.__symbol__("currentTaskTrace")];return T?E(T,i.stack):i.stack},onScheduleTask:function(i,T,_,p){if(R()){let A=s.currentTask,P=A&&A.data&&A.data[t]||[];P=[new d].concat(P),P.length>this.longStackTraceLimit&&(P.length=this.longStackTraceLimit),p.data||(p.data={}),p.type==="eventTask"&&(p.data={...p.data}),p.data[t]=P}return i.scheduleTask(_,p)},onHandleError:function(i,T,_,p){if(R()){let A=s.currentTask||p.task;if(p instanceof Error&&A){let P=E(A.data&&A.data[t],p.stack);try{p.stack=p.longStack=P}catch{}}}return i.handleError(_,p)}};function y(i,T){T>0&&(i.push(Z(new d().error)),y(i,T-1))}function l(){if(!R())return;let i=[];y(i,2);let T=i[0],_=i[1];for(let p=0;p<T.length;p++){let A=T[p];if(A.indexOf(r)==-1){let P=A.match(/^\s*at\s+/);if(P){h=P[0]+a+" (http://localhost)";break}}}for(let p=0;p<T.length;p++){let A=T[p],P=_[p];if(A===P)n[A]=!0;else break}}l()}var nt=class s{static get(){return Zone.current.get("ProxyZoneSpec")}static isLoaded(){return s.get()instanceof s}static assertPresent(){if(!s.isLoaded())throw new Error("Expected to be running in 'ProxyZone', but it was not found.");return s.get()}constructor(e=null){this.defaultSpecDelegate=e,this.name="ProxyZone",this._delegateSpec=null,this.properties={ProxyZoneSpec:this},this.propertyKeys=null,this.lastTaskState=null,this.isNeedToTriggerHasTask=!1,this.tasks=[],this.setDelegate(e)}setDelegate(e){let n=this._delegateSpec!==e;this._delegateSpec=e,this.propertyKeys&&this.propertyKeys.forEach(t=>delete this.properties[t]),this.propertyKeys=null,e&&e.properties&&(this.propertyKeys=Object.keys(e.properties),this.propertyKeys.forEach(t=>this.properties[t]=e.properties[t])),n&&this.lastTaskState&&(this.lastTaskState.macroTask||this.lastTaskState.microTask)&&(this.isNeedToTriggerHasTask=!0)}getDelegate(){return this._delegateSpec}resetDelegate(){this.getDelegate(),this.setDelegate(this.defaultSpecDelegate)}tryTriggerHasTask(e,n,t){this.isNeedToTriggerHasTask&&this.lastTaskState&&(this.isNeedToTriggerHasTask=!1,this.onHasTask(e,n,t,this.lastTaskState))}removeFromTasks(e){if(this.tasks){for(let n=0;n<this.tasks.length;n++)if(this.tasks[n]===e){this.tasks.splice(n,1);return}}}getAndClearPendingTasksInfo(){if(this.tasks.length===0)return"";let n="--Pending async tasks are: ["+this.tasks.map(t=>{let r=t.data&&Object.keys(t.data).map(a=>a+":"+t.data[a]).join(",");return`type: ${t.type}, source: ${t.source}, args: {${r}}`})+"]";return this.tasks=[],n}onFork(e,n,t,r){return this._delegateSpec&&this._delegateSpec.onFork?this._delegateSpec.onFork(e,n,t,r):e.fork(t,r)}onIntercept(e,n,t,r,a){return this._delegateSpec&&this._delegateSpec.onIntercept?this._delegateSpec.onIntercept(e,n,t,r,a):e.intercept(t,r,a)}onInvoke(e,n,t,r,a,h,d){return this.tryTriggerHasTask(e,n,t),this._delegateSpec&&this._delegateSpec.onInvoke?this._delegateSpec.onInvoke(e,n,t,r,a,h,d):e.invoke(t,r,a,h,d)}onHandleError(e,n,t,r){return this._delegateSpec&&this._delegateSpec.onHandleError?this._delegateSpec.onHandleError(e,n,t,r):e.handleError(t,r)}onScheduleTask(e,n,t,r){return r.type!=="eventTask"&&this.tasks.push(r),this._delegateSpec&&this._delegateSpec.onScheduleTask?this._delegateSpec.onScheduleTask(e,n,t,r):e.scheduleTask(t,r)}onInvokeTask(e,n,t,r,a,h){return r.type!=="eventTask"&&this.removeFromTasks(r),this.tryTriggerHasTask(e,n,t),this._delegateSpec&&this._delegateSpec.onInvokeTask?this._delegateSpec.onInvokeTask(e,n,t,r,a,h):e.invokeTask(t,r,a,h)}onCancelTask(e,n,t,r){return r.type!=="eventTask"&&this.removeFromTasks(r),this.tryTriggerHasTask(e,n,t),this._delegateSpec&&this._delegateSpec.onCancelTask?this._delegateSpec.onCancelTask(e,n,t,r):e.cancelTask(t,r)}onHasTask(e,n,t,r){this.lastTaskState=r,this._delegateSpec&&this._delegateSpec.onHasTask?this._delegateSpec.onHasTask(e,n,t,r):e.hasTask(t,r)}};function mn(s){s.ProxyZoneSpec=nt}function yn(s){class e{constructor(t){this.runZone=s.current,this.name="syncTestZone for "+t}onScheduleTask(t,r,a,h){switch(h.type){case"microTask":case"macroTask":throw new Error(`Cannot call ${h.source} from within a sync test (${this.name}).`);case"eventTask":h=t.scheduleTask(a,h);break}return h}}s.SyncTestZoneSpec=e}function gn(s){s.__load_patch("promisefortest",(e,n,t)=>{let r=t.symbol("state"),a=null,h=t.symbol("parentUnresolved");Promise[t.symbol("patchPromiseForTest")]=function(){let f=Promise[n.__symbol__("ZonePromiseThen")];f||(f=Promise[n.__symbol__("ZonePromiseThen")]=Promise.prototype.then,Promise.prototype.then=function(){let S=f.apply(this,arguments);if(this[r]===a){let m=n.current.get("AsyncTestZoneSpec");m&&(m.unresolvedChainedPromiseCount++,S[h]=!0)}return S})},Promise[t.symbol("unPatchPromiseForTest")]=function(){let f=Promise[n.__symbol__("ZonePromiseThen")];f&&(Promise.prototype.then=f,Promise[n.__symbol__("ZonePromiseThen")]=void 0)}})}function kn(s){_n(s),mn(s),yn(s),rn(s),sn(s),on(s),un(s),pn(s),gn(s)}kn(Zone);
